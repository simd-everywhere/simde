/* SPDX-License-Identifier: MIT
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use, copy,
 * modify, merge, publish, distribute, sublicense, and/or sell copies
 * of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
 * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
 * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * Copyright:
 *   2023      Michael R. Crusoe <crusoe@debian.org>
 */

#define SIMDE_TEST_X86_AVX512_INSN reduce

#include <test/x86/avx512/test-avx512.h>
#include <simde/x86/avx512/reduce.h>

#if defined(SIMDE_FLOAT16_IS_SCALAR)
static int
test_simde_mm512_reduce_max_ph (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde_float16 a[32];
    const simde_float16 r;
  } test_vec[] = {
    { { SIMDE_FLOAT16_VALUE(  -185.88), SIMDE_FLOAT16_VALUE(  -986.50), SIMDE_FLOAT16_VALUE(     2.45), SIMDE_FLOAT16_VALUE(   247.38),
        SIMDE_FLOAT16_VALUE(  -727.00), SIMDE_FLOAT16_VALUE(  -893.50), SIMDE_FLOAT16_VALUE(   875.50), SIMDE_FLOAT16_VALUE(   709.00),
        SIMDE_FLOAT16_VALUE(   406.75), SIMDE_FLOAT16_VALUE(  -130.75), SIMDE_FLOAT16_VALUE(  -631.00), SIMDE_FLOAT16_VALUE(   933.50),
        SIMDE_FLOAT16_VALUE(    90.00), SIMDE_FLOAT16_VALUE(  -937.00), SIMDE_FLOAT16_VALUE(  -754.00), SIMDE_FLOAT16_VALUE(    60.22),
        SIMDE_FLOAT16_VALUE(   233.00), SIMDE_FLOAT16_VALUE(  -323.25), SIMDE_FLOAT16_VALUE(    83.06), SIMDE_FLOAT16_VALUE(  -224.38),
        SIMDE_FLOAT16_VALUE(   860.50), SIMDE_FLOAT16_VALUE(  -115.75), SIMDE_FLOAT16_VALUE(   962.00), SIMDE_FLOAT16_VALUE(  -706.50),
        SIMDE_FLOAT16_VALUE(   742.00), SIMDE_FLOAT16_VALUE(  -185.25), SIMDE_FLOAT16_VALUE(  -100.25), SIMDE_FLOAT16_VALUE(  -953.00),
        SIMDE_FLOAT16_VALUE(   934.50), SIMDE_FLOAT16_VALUE(  -124.06), SIMDE_FLOAT16_VALUE(   835.00), SIMDE_FLOAT16_VALUE(  -251.38) },
      SIMDE_FLOAT16_VALUE(   962.00) },
    { { SIMDE_FLOAT16_VALUE(  -110.44), SIMDE_FLOAT16_VALUE(  -162.62), SIMDE_FLOAT16_VALUE(   996.00), SIMDE_FLOAT16_VALUE(   162.62),
        SIMDE_FLOAT16_VALUE(   -56.28), SIMDE_FLOAT16_VALUE(   871.50), SIMDE_FLOAT16_VALUE(  -128.38), SIMDE_FLOAT16_VALUE(  -649.50),
        SIMDE_FLOAT16_VALUE(  -259.25), SIMDE_FLOAT16_VALUE(   240.50), SIMDE_FLOAT16_VALUE(  -716.50), SIMDE_FLOAT16_VALUE(   830.50),
        SIMDE_FLOAT16_VALUE(   303.50), SIMDE_FLOAT16_VALUE(  -470.00), SIMDE_FLOAT16_VALUE(  -109.06), SIMDE_FLOAT16_VALUE(  -463.50),
        SIMDE_FLOAT16_VALUE(   206.75), SIMDE_FLOAT16_VALUE(   974.00), SIMDE_FLOAT16_VALUE(   312.25), SIMDE_FLOAT16_VALUE(    67.25),
        SIMDE_FLOAT16_VALUE(  -141.75), SIMDE_FLOAT16_VALUE(   274.25), SIMDE_FLOAT16_VALUE(   360.75), SIMDE_FLOAT16_VALUE(  -400.00),
        SIMDE_FLOAT16_VALUE(  -911.00), SIMDE_FLOAT16_VALUE(  -739.50), SIMDE_FLOAT16_VALUE(  -353.00), SIMDE_FLOAT16_VALUE(  -976.50),
        SIMDE_FLOAT16_VALUE(   136.38), SIMDE_FLOAT16_VALUE(  -518.00), SIMDE_FLOAT16_VALUE(  -227.88), SIMDE_FLOAT16_VALUE(  -974.00) },
      SIMDE_FLOAT16_VALUE(   996.00) },
    { { SIMDE_FLOAT16_VALUE(   319.25), SIMDE_FLOAT16_VALUE(  -232.00), SIMDE_FLOAT16_VALUE(   188.62), SIMDE_FLOAT16_VALUE(  -737.00),
        SIMDE_FLOAT16_VALUE(  -360.50), SIMDE_FLOAT16_VALUE(  -940.00), SIMDE_FLOAT16_VALUE(  -386.50), SIMDE_FLOAT16_VALUE(   380.25),
        SIMDE_FLOAT16_VALUE(   300.75), SIMDE_FLOAT16_VALUE(  -102.81), SIMDE_FLOAT16_VALUE(   211.00), SIMDE_FLOAT16_VALUE(  -395.50),
        SIMDE_FLOAT16_VALUE(   427.00), SIMDE_FLOAT16_VALUE(  -898.00), SIMDE_FLOAT16_VALUE(   141.00), SIMDE_FLOAT16_VALUE(  -366.25),
        SIMDE_FLOAT16_VALUE(  -924.00), SIMDE_FLOAT16_VALUE(  -546.50), SIMDE_FLOAT16_VALUE(   701.00), SIMDE_FLOAT16_VALUE(   -65.81),
        SIMDE_FLOAT16_VALUE(   727.50), SIMDE_FLOAT16_VALUE(    61.84), SIMDE_FLOAT16_VALUE(   534.00), SIMDE_FLOAT16_VALUE(   816.50),
        SIMDE_FLOAT16_VALUE(   322.25), SIMDE_FLOAT16_VALUE(  -819.00), SIMDE_FLOAT16_VALUE(   840.50), SIMDE_FLOAT16_VALUE(  -541.50),
        SIMDE_FLOAT16_VALUE(  -336.75), SIMDE_FLOAT16_VALUE(  -387.50), SIMDE_FLOAT16_VALUE(  -515.50), SIMDE_FLOAT16_VALUE(   982.50) },
      SIMDE_FLOAT16_VALUE(   982.50) },
    { { SIMDE_FLOAT16_VALUE(   380.50), SIMDE_FLOAT16_VALUE(   673.00), SIMDE_FLOAT16_VALUE(  -754.50), SIMDE_FLOAT16_VALUE(  -980.00),
        SIMDE_FLOAT16_VALUE(   733.50), SIMDE_FLOAT16_VALUE(  -140.88), SIMDE_FLOAT16_VALUE(   400.25), SIMDE_FLOAT16_VALUE(    34.25),
        SIMDE_FLOAT16_VALUE(   756.50), SIMDE_FLOAT16_VALUE(  -388.75), SIMDE_FLOAT16_VALUE(   638.50), SIMDE_FLOAT16_VALUE(   183.38),
        SIMDE_FLOAT16_VALUE(  -286.75), SIMDE_FLOAT16_VALUE(  -220.38), SIMDE_FLOAT16_VALUE(   817.00), SIMDE_FLOAT16_VALUE(  -210.75),
        SIMDE_FLOAT16_VALUE(   233.00), SIMDE_FLOAT16_VALUE(   518.50), SIMDE_FLOAT16_VALUE(   723.50), SIMDE_FLOAT16_VALUE(   -39.44),
        SIMDE_FLOAT16_VALUE(  -419.75), SIMDE_FLOAT16_VALUE(   257.50), SIMDE_FLOAT16_VALUE(  -222.75), SIMDE_FLOAT16_VALUE(   902.50),
        SIMDE_FLOAT16_VALUE(   438.75), SIMDE_FLOAT16_VALUE(  -382.50), SIMDE_FLOAT16_VALUE(  -639.00), SIMDE_FLOAT16_VALUE(  -898.00),
        SIMDE_FLOAT16_VALUE(   230.12), SIMDE_FLOAT16_VALUE(  -154.12), SIMDE_FLOAT16_VALUE(  -915.50), SIMDE_FLOAT16_VALUE(  -389.50) },
      SIMDE_FLOAT16_VALUE(   902.50) },
    { { SIMDE_FLOAT16_VALUE(  -481.00), SIMDE_FLOAT16_VALUE(  -670.00), SIMDE_FLOAT16_VALUE(  -369.25), SIMDE_FLOAT16_VALUE(  -747.50),
        SIMDE_FLOAT16_VALUE(   189.25), SIMDE_FLOAT16_VALUE(  -969.00), SIMDE_FLOAT16_VALUE(   286.75), SIMDE_FLOAT16_VALUE(   -54.47),
        SIMDE_FLOAT16_VALUE(  -357.75), SIMDE_FLOAT16_VALUE(   -74.56), SIMDE_FLOAT16_VALUE(  -871.00), SIMDE_FLOAT16_VALUE(   355.50),
        SIMDE_FLOAT16_VALUE(   705.00), SIMDE_FLOAT16_VALUE(   946.00), SIMDE_FLOAT16_VALUE(  -855.00), SIMDE_FLOAT16_VALUE(   -61.97),
        SIMDE_FLOAT16_VALUE(   464.50), SIMDE_FLOAT16_VALUE(   868.00), SIMDE_FLOAT16_VALUE(   898.50), SIMDE_FLOAT16_VALUE(  -955.50),
        SIMDE_FLOAT16_VALUE(   125.81), SIMDE_FLOAT16_VALUE(  -324.25), SIMDE_FLOAT16_VALUE(   947.00), SIMDE_FLOAT16_VALUE(  -435.25),
        SIMDE_FLOAT16_VALUE(   293.50), SIMDE_FLOAT16_VALUE(  -691.50), SIMDE_FLOAT16_VALUE(  -333.50), SIMDE_FLOAT16_VALUE(  -476.50),
        SIMDE_FLOAT16_VALUE(   154.25), SIMDE_FLOAT16_VALUE(  -248.88), SIMDE_FLOAT16_VALUE(   134.12), SIMDE_FLOAT16_VALUE(   673.50) },
      SIMDE_FLOAT16_VALUE(   947.00) },
    { { SIMDE_FLOAT16_VALUE(    81.25), SIMDE_FLOAT16_VALUE(   765.00), SIMDE_FLOAT16_VALUE(   926.00), SIMDE_FLOAT16_VALUE(  -729.50),
        SIMDE_FLOAT16_VALUE(   796.00), SIMDE_FLOAT16_VALUE(   212.62), SIMDE_FLOAT16_VALUE(   216.00), SIMDE_FLOAT16_VALUE(  -562.00),
        SIMDE_FLOAT16_VALUE(  -862.00), SIMDE_FLOAT16_VALUE(   345.00), SIMDE_FLOAT16_VALUE(   794.00), SIMDE_FLOAT16_VALUE(   843.00),
        SIMDE_FLOAT16_VALUE(   291.00), SIMDE_FLOAT16_VALUE(   938.50), SIMDE_FLOAT16_VALUE(  -218.88), SIMDE_FLOAT16_VALUE(  -244.38),
        SIMDE_FLOAT16_VALUE(   807.00), SIMDE_FLOAT16_VALUE(  -320.25), SIMDE_FLOAT16_VALUE(  -199.62), SIMDE_FLOAT16_VALUE(   -67.38),
        SIMDE_FLOAT16_VALUE(   355.50), SIMDE_FLOAT16_VALUE(  -252.38), SIMDE_FLOAT16_VALUE(   497.25), SIMDE_FLOAT16_VALUE(  -351.00),
        SIMDE_FLOAT16_VALUE(    56.03), SIMDE_FLOAT16_VALUE(  -836.00), SIMDE_FLOAT16_VALUE(   172.50), SIMDE_FLOAT16_VALUE(  -789.50),
        SIMDE_FLOAT16_VALUE(   -85.00), SIMDE_FLOAT16_VALUE(  -693.50), SIMDE_FLOAT16_VALUE(   883.50), SIMDE_FLOAT16_VALUE(   996.00) },
      SIMDE_FLOAT16_VALUE(   996.00) },
    { { SIMDE_FLOAT16_VALUE(  -928.50), SIMDE_FLOAT16_VALUE(   809.50), SIMDE_FLOAT16_VALUE(  -733.50), SIMDE_FLOAT16_VALUE(   867.50),
        SIMDE_FLOAT16_VALUE(    22.09), SIMDE_FLOAT16_VALUE(   482.75), SIMDE_FLOAT16_VALUE(  -694.50), SIMDE_FLOAT16_VALUE(   160.12),
        SIMDE_FLOAT16_VALUE(  -172.25), SIMDE_FLOAT16_VALUE(  -901.00), SIMDE_FLOAT16_VALUE(     3.27), SIMDE_FLOAT16_VALUE(  -881.00),
        SIMDE_FLOAT16_VALUE(  -962.00), SIMDE_FLOAT16_VALUE(   784.50), SIMDE_FLOAT16_VALUE(  -125.56), SIMDE_FLOAT16_VALUE(   844.50),
        SIMDE_FLOAT16_VALUE(  -536.00), SIMDE_FLOAT16_VALUE(   675.00), SIMDE_FLOAT16_VALUE(  -222.75), SIMDE_FLOAT16_VALUE(   820.00),
        SIMDE_FLOAT16_VALUE(  -577.50), SIMDE_FLOAT16_VALUE(  -725.50), SIMDE_FLOAT16_VALUE(  -531.00), SIMDE_FLOAT16_VALUE(   478.50),
        SIMDE_FLOAT16_VALUE(  -561.50), SIMDE_FLOAT16_VALUE(   641.50), SIMDE_FLOAT16_VALUE(   689.00), SIMDE_FLOAT16_VALUE(   353.50),
        SIMDE_FLOAT16_VALUE(   948.00), SIMDE_FLOAT16_VALUE(   572.50), SIMDE_FLOAT16_VALUE(   349.75), SIMDE_FLOAT16_VALUE(  -980.50) },
      SIMDE_FLOAT16_VALUE(   948.00) },
    { { SIMDE_FLOAT16_VALUE(   381.75), SIMDE_FLOAT16_VALUE(   616.50), SIMDE_FLOAT16_VALUE(   887.00), SIMDE_FLOAT16_VALUE(  -596.00),
        SIMDE_FLOAT16_VALUE(    99.12), SIMDE_FLOAT16_VALUE(  -807.50), SIMDE_FLOAT16_VALUE(   564.00), SIMDE_FLOAT16_VALUE(   927.00),
        SIMDE_FLOAT16_VALUE(  -708.50), SIMDE_FLOAT16_VALUE(  -432.75), SIMDE_FLOAT16_VALUE(  -954.50), SIMDE_FLOAT16_VALUE(  -670.50),
        SIMDE_FLOAT16_VALUE(  -648.00), SIMDE_FLOAT16_VALUE(   -79.81), SIMDE_FLOAT16_VALUE(  -826.00), SIMDE_FLOAT16_VALUE(  -184.00),
        SIMDE_FLOAT16_VALUE(  -405.00), SIMDE_FLOAT16_VALUE(   -48.72), SIMDE_FLOAT16_VALUE(  -364.25), SIMDE_FLOAT16_VALUE(    17.39),
        SIMDE_FLOAT16_VALUE(   225.88), SIMDE_FLOAT16_VALUE(   104.50), SIMDE_FLOAT16_VALUE(  -504.25), SIMDE_FLOAT16_VALUE(   664.50),
        SIMDE_FLOAT16_VALUE(  -254.25), SIMDE_FLOAT16_VALUE(  -815.50), SIMDE_FLOAT16_VALUE(    17.67), SIMDE_FLOAT16_VALUE(  -306.25),
        SIMDE_FLOAT16_VALUE(   757.00), SIMDE_FLOAT16_VALUE(  -632.50), SIMDE_FLOAT16_VALUE(  -286.75), SIMDE_FLOAT16_VALUE(   138.88) },
      SIMDE_FLOAT16_VALUE(   927.00) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512h a = simde_mm512_loadu_ph(test_vec[i].a);
    simde_float16 r = simde_mm512_reduce_max_ph(a);
    simde_assert_equal_f16(r, test_vec[i].r, 1);
  }

  return 0;
#else
  fputc('\n', stdout);

  for (int i = 0; i < 8; i++) {
    simde__m512h a = simde_test_x86_random_f16x32(SIMDE_FLOAT16_VALUE(-1000.0), SIMDE_FLOAT16_VALUE(1000.0));
    simde_float16 r = simde_mm512_reduce_max_ph(a);

    simde_test_x86_write_f16x32(2, a, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_codegen_write_f16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_reduce_min_ph (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde_float16 a[32];
    const simde_float16 r;
  } test_vec[] = {
    { { SIMDE_FLOAT16_VALUE(   844.50), SIMDE_FLOAT16_VALUE(  -114.81), SIMDE_FLOAT16_VALUE(  -922.00), SIMDE_FLOAT16_VALUE(  -790.50),
        SIMDE_FLOAT16_VALUE(  -598.00), SIMDE_FLOAT16_VALUE(   970.00), SIMDE_FLOAT16_VALUE(   305.00), SIMDE_FLOAT16_VALUE(  -214.62),
        SIMDE_FLOAT16_VALUE(   798.00), SIMDE_FLOAT16_VALUE(   346.25), SIMDE_FLOAT16_VALUE(   477.00), SIMDE_FLOAT16_VALUE(   573.00),
        SIMDE_FLOAT16_VALUE(   247.00), SIMDE_FLOAT16_VALUE(  -550.00), SIMDE_FLOAT16_VALUE(  -505.25), SIMDE_FLOAT16_VALUE(   688.00),
        SIMDE_FLOAT16_VALUE(   446.75), SIMDE_FLOAT16_VALUE(  -639.00), SIMDE_FLOAT16_VALUE(  -624.00), SIMDE_FLOAT16_VALUE(   541.00),
        SIMDE_FLOAT16_VALUE(   638.50), SIMDE_FLOAT16_VALUE(   643.50), SIMDE_FLOAT16_VALUE(   948.50), SIMDE_FLOAT16_VALUE(   328.50),
        SIMDE_FLOAT16_VALUE(  -432.25), SIMDE_FLOAT16_VALUE(  -517.50), SIMDE_FLOAT16_VALUE(  -562.50), SIMDE_FLOAT16_VALUE(   839.50),
        SIMDE_FLOAT16_VALUE(  -883.00), SIMDE_FLOAT16_VALUE(   450.25), SIMDE_FLOAT16_VALUE(  -607.50), SIMDE_FLOAT16_VALUE(   962.00) },
      SIMDE_FLOAT16_VALUE(  -922.00) },
    { { SIMDE_FLOAT16_VALUE(  -664.50), SIMDE_FLOAT16_VALUE(  -530.00), SIMDE_FLOAT16_VALUE(  -829.00), SIMDE_FLOAT16_VALUE(  -262.50),
        SIMDE_FLOAT16_VALUE(  -560.00), SIMDE_FLOAT16_VALUE(   476.25), SIMDE_FLOAT16_VALUE(   523.00), SIMDE_FLOAT16_VALUE(  -762.00),
        SIMDE_FLOAT16_VALUE(  -177.62), SIMDE_FLOAT16_VALUE(     0.05), SIMDE_FLOAT16_VALUE(   811.00), SIMDE_FLOAT16_VALUE(  -930.50),
        SIMDE_FLOAT16_VALUE(   450.00), SIMDE_FLOAT16_VALUE(  -694.00), SIMDE_FLOAT16_VALUE(   757.50), SIMDE_FLOAT16_VALUE(  -103.44),
        SIMDE_FLOAT16_VALUE(  -333.00), SIMDE_FLOAT16_VALUE(  -866.50), SIMDE_FLOAT16_VALUE(  -562.50), SIMDE_FLOAT16_VALUE(  -694.50),
        SIMDE_FLOAT16_VALUE(   776.50), SIMDE_FLOAT16_VALUE(  -614.00), SIMDE_FLOAT16_VALUE(   634.00), SIMDE_FLOAT16_VALUE(  -655.50),
        SIMDE_FLOAT16_VALUE(  -131.38), SIMDE_FLOAT16_VALUE(  -928.50), SIMDE_FLOAT16_VALUE(  -816.00), SIMDE_FLOAT16_VALUE(   -14.12),
        SIMDE_FLOAT16_VALUE(   521.50), SIMDE_FLOAT16_VALUE(  -423.50), SIMDE_FLOAT16_VALUE(   -52.28), SIMDE_FLOAT16_VALUE(   857.00) },
      SIMDE_FLOAT16_VALUE(  -930.50) },
    { { SIMDE_FLOAT16_VALUE(    46.66), SIMDE_FLOAT16_VALUE(   118.94), SIMDE_FLOAT16_VALUE(  -405.50), SIMDE_FLOAT16_VALUE(   486.75),
        SIMDE_FLOAT16_VALUE(  -404.75), SIMDE_FLOAT16_VALUE(  -882.50), SIMDE_FLOAT16_VALUE(   724.50), SIMDE_FLOAT16_VALUE(   417.50),
        SIMDE_FLOAT16_VALUE(   117.50), SIMDE_FLOAT16_VALUE(   536.00), SIMDE_FLOAT16_VALUE(   487.00), SIMDE_FLOAT16_VALUE(  -432.75),
        SIMDE_FLOAT16_VALUE(   842.00), SIMDE_FLOAT16_VALUE(   244.38), SIMDE_FLOAT16_VALUE(   464.00), SIMDE_FLOAT16_VALUE(  -491.25),
        SIMDE_FLOAT16_VALUE(   377.75), SIMDE_FLOAT16_VALUE(   901.50), SIMDE_FLOAT16_VALUE(  -185.75), SIMDE_FLOAT16_VALUE(   154.38),
        SIMDE_FLOAT16_VALUE(  -712.50), SIMDE_FLOAT16_VALUE(  -551.50), SIMDE_FLOAT16_VALUE(   498.75), SIMDE_FLOAT16_VALUE(   156.38),
        SIMDE_FLOAT16_VALUE(  -480.25), SIMDE_FLOAT16_VALUE(   683.00), SIMDE_FLOAT16_VALUE(  -858.00), SIMDE_FLOAT16_VALUE(  -959.00),
        SIMDE_FLOAT16_VALUE(  -741.00), SIMDE_FLOAT16_VALUE(    90.00), SIMDE_FLOAT16_VALUE(   898.00), SIMDE_FLOAT16_VALUE(   306.00) },
      SIMDE_FLOAT16_VALUE(  -959.00) },
    { { SIMDE_FLOAT16_VALUE(  -791.00), SIMDE_FLOAT16_VALUE(  -507.50), SIMDE_FLOAT16_VALUE(  -207.38), SIMDE_FLOAT16_VALUE(  -195.88),
        SIMDE_FLOAT16_VALUE(  -390.00), SIMDE_FLOAT16_VALUE(  -482.75), SIMDE_FLOAT16_VALUE(  -778.50), SIMDE_FLOAT16_VALUE(   727.50),
        SIMDE_FLOAT16_VALUE(  -946.50), SIMDE_FLOAT16_VALUE(   708.50), SIMDE_FLOAT16_VALUE(  -705.00), SIMDE_FLOAT16_VALUE(   895.00),
        SIMDE_FLOAT16_VALUE(   -46.94), SIMDE_FLOAT16_VALUE(   758.50), SIMDE_FLOAT16_VALUE(  -596.00), SIMDE_FLOAT16_VALUE(  -669.00),
        SIMDE_FLOAT16_VALUE(   660.00), SIMDE_FLOAT16_VALUE(   218.25), SIMDE_FLOAT16_VALUE(   485.25), SIMDE_FLOAT16_VALUE(   948.00),
        SIMDE_FLOAT16_VALUE(   666.50), SIMDE_FLOAT16_VALUE(   -16.06), SIMDE_FLOAT16_VALUE(   104.25), SIMDE_FLOAT16_VALUE(  -813.50),
        SIMDE_FLOAT16_VALUE(  -333.25), SIMDE_FLOAT16_VALUE(   246.50), SIMDE_FLOAT16_VALUE(  -772.50), SIMDE_FLOAT16_VALUE(   -74.06),
        SIMDE_FLOAT16_VALUE(  -663.50), SIMDE_FLOAT16_VALUE(  -874.50), SIMDE_FLOAT16_VALUE(  -768.00), SIMDE_FLOAT16_VALUE(  -454.50) },
      SIMDE_FLOAT16_VALUE(  -946.50) },
    { { SIMDE_FLOAT16_VALUE(  -382.00), SIMDE_FLOAT16_VALUE(    24.48), SIMDE_FLOAT16_VALUE(   349.50), SIMDE_FLOAT16_VALUE(   228.00),
        SIMDE_FLOAT16_VALUE(   542.00), SIMDE_FLOAT16_VALUE(   571.00), SIMDE_FLOAT16_VALUE(   -44.53), SIMDE_FLOAT16_VALUE(   595.00),
        SIMDE_FLOAT16_VALUE(   279.75), SIMDE_FLOAT16_VALUE(   250.25), SIMDE_FLOAT16_VALUE(   490.25), SIMDE_FLOAT16_VALUE(  -767.00),
        SIMDE_FLOAT16_VALUE(     8.94), SIMDE_FLOAT16_VALUE(   894.00), SIMDE_FLOAT16_VALUE(  -436.25), SIMDE_FLOAT16_VALUE(  -330.75),
        SIMDE_FLOAT16_VALUE(   112.38), SIMDE_FLOAT16_VALUE(  -951.00), SIMDE_FLOAT16_VALUE(  -383.00), SIMDE_FLOAT16_VALUE(  -221.12),
        SIMDE_FLOAT16_VALUE(    32.81), SIMDE_FLOAT16_VALUE(   721.50), SIMDE_FLOAT16_VALUE(   -34.78), SIMDE_FLOAT16_VALUE(   699.50),
        SIMDE_FLOAT16_VALUE(   -32.19), SIMDE_FLOAT16_VALUE(   192.75), SIMDE_FLOAT16_VALUE(  -374.50), SIMDE_FLOAT16_VALUE(   304.25),
        SIMDE_FLOAT16_VALUE(   318.25), SIMDE_FLOAT16_VALUE(  -142.62), SIMDE_FLOAT16_VALUE(   849.50), SIMDE_FLOAT16_VALUE(   936.50) },
      SIMDE_FLOAT16_VALUE(  -951.00) },
    { { SIMDE_FLOAT16_VALUE(   882.00), SIMDE_FLOAT16_VALUE(   199.12), SIMDE_FLOAT16_VALUE(   164.50), SIMDE_FLOAT16_VALUE(   423.75),
        SIMDE_FLOAT16_VALUE(  -229.62), SIMDE_FLOAT16_VALUE(  -880.00), SIMDE_FLOAT16_VALUE(    18.75), SIMDE_FLOAT16_VALUE(  -950.00),
        SIMDE_FLOAT16_VALUE(   370.25), SIMDE_FLOAT16_VALUE(  -491.00), SIMDE_FLOAT16_VALUE(  -717.00), SIMDE_FLOAT16_VALUE(  -621.00),
        SIMDE_FLOAT16_VALUE(  -597.00), SIMDE_FLOAT16_VALUE(  -153.25), SIMDE_FLOAT16_VALUE(    48.25), SIMDE_FLOAT16_VALUE(   515.50),
        SIMDE_FLOAT16_VALUE(  -104.31), SIMDE_FLOAT16_VALUE(   665.50), SIMDE_FLOAT16_VALUE(  -705.50), SIMDE_FLOAT16_VALUE(   928.50),
        SIMDE_FLOAT16_VALUE(   386.50), SIMDE_FLOAT16_VALUE(   259.75), SIMDE_FLOAT16_VALUE(   628.00), SIMDE_FLOAT16_VALUE(  -645.50),
        SIMDE_FLOAT16_VALUE(  -547.50), SIMDE_FLOAT16_VALUE(  -746.50), SIMDE_FLOAT16_VALUE(   658.50), SIMDE_FLOAT16_VALUE(   770.50),
        SIMDE_FLOAT16_VALUE(   110.81), SIMDE_FLOAT16_VALUE(   508.50), SIMDE_FLOAT16_VALUE(   707.00), SIMDE_FLOAT16_VALUE(    -7.41) },
      SIMDE_FLOAT16_VALUE(  -950.00) },
    { { SIMDE_FLOAT16_VALUE(  -292.50), SIMDE_FLOAT16_VALUE(  -128.38), SIMDE_FLOAT16_VALUE(  -584.00), SIMDE_FLOAT16_VALUE(   478.00),
        SIMDE_FLOAT16_VALUE(    -8.43), SIMDE_FLOAT16_VALUE(   435.00), SIMDE_FLOAT16_VALUE(   528.00), SIMDE_FLOAT16_VALUE(  -638.00),
        SIMDE_FLOAT16_VALUE(   944.00), SIMDE_FLOAT16_VALUE(   811.00), SIMDE_FLOAT16_VALUE(  -259.00), SIMDE_FLOAT16_VALUE(  -653.00),
        SIMDE_FLOAT16_VALUE(  -342.00), SIMDE_FLOAT16_VALUE(   789.00), SIMDE_FLOAT16_VALUE(   862.50), SIMDE_FLOAT16_VALUE(   553.50),
        SIMDE_FLOAT16_VALUE(   454.50), SIMDE_FLOAT16_VALUE(  -843.00), SIMDE_FLOAT16_VALUE(   482.00), SIMDE_FLOAT16_VALUE(  -159.00),
        SIMDE_FLOAT16_VALUE(   416.75), SIMDE_FLOAT16_VALUE(   110.12), SIMDE_FLOAT16_VALUE(   195.38), SIMDE_FLOAT16_VALUE(   869.00),
        SIMDE_FLOAT16_VALUE(   363.50), SIMDE_FLOAT16_VALUE(  -146.00), SIMDE_FLOAT16_VALUE(   640.00), SIMDE_FLOAT16_VALUE(  -525.50),
        SIMDE_FLOAT16_VALUE(  -637.50), SIMDE_FLOAT16_VALUE(   347.00), SIMDE_FLOAT16_VALUE(   467.00), SIMDE_FLOAT16_VALUE(    70.00) },
      SIMDE_FLOAT16_VALUE(  -843.00) },
    { { SIMDE_FLOAT16_VALUE(  -781.50), SIMDE_FLOAT16_VALUE(   883.00), SIMDE_FLOAT16_VALUE(  -452.00), SIMDE_FLOAT16_VALUE(   210.25),
        SIMDE_FLOAT16_VALUE(   318.25), SIMDE_FLOAT16_VALUE(  -924.00), SIMDE_FLOAT16_VALUE(   572.00), SIMDE_FLOAT16_VALUE(   262.25),
        SIMDE_FLOAT16_VALUE(   887.00), SIMDE_FLOAT16_VALUE(  -687.00), SIMDE_FLOAT16_VALUE(   609.50), SIMDE_FLOAT16_VALUE(  -454.75),
        SIMDE_FLOAT16_VALUE(  -898.00), SIMDE_FLOAT16_VALUE(   472.00), SIMDE_FLOAT16_VALUE(  -901.00), SIMDE_FLOAT16_VALUE(   556.50),
        SIMDE_FLOAT16_VALUE(   629.00), SIMDE_FLOAT16_VALUE(   581.00), SIMDE_FLOAT16_VALUE(  -602.50), SIMDE_FLOAT16_VALUE(    46.00),
        SIMDE_FLOAT16_VALUE(  -309.00), SIMDE_FLOAT16_VALUE(   593.00), SIMDE_FLOAT16_VALUE(   -84.81), SIMDE_FLOAT16_VALUE(  -945.50),
        SIMDE_FLOAT16_VALUE(  -553.00), SIMDE_FLOAT16_VALUE(  -445.00), SIMDE_FLOAT16_VALUE(  -471.00), SIMDE_FLOAT16_VALUE(  -190.75),
        SIMDE_FLOAT16_VALUE(   902.00), SIMDE_FLOAT16_VALUE(   996.00), SIMDE_FLOAT16_VALUE(   879.50), SIMDE_FLOAT16_VALUE(  -879.00) },
      SIMDE_FLOAT16_VALUE(  -945.50) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512h a = simde_mm512_loadu_ph(test_vec[i].a);
    simde_float16 r = simde_mm512_reduce_min_ph(a);
    simde_assert_equal_f16(r, test_vec[i].r, 1);
  }

  return 0;
#else
  fputc('\n', stdout);

  for (int i = 0; i < 8; i++) {
    simde__m512h a = simde_test_x86_random_f16x32(SIMDE_FLOAT16_VALUE(-1000.0), SIMDE_FLOAT16_VALUE(1000.0));
    simde_float16 r = simde_mm512_reduce_min_ph(a);

    simde_test_x86_write_f16x32(2, a, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_codegen_write_f16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

#else
/* To avoid a warning about expr < 0 always evaluating to false
 * (-Wtype-limits) because there are no functions to test. */

static int
test_simde_dummy (SIMDE_MUNIT_TEST_ARGS) {
  return 0;
}
#endif // SIMDE_FLOAT16_IS_SCALAR

SIMDE_TEST_FUNC_LIST_BEGIN
  #if defined(SIMDE_FLOAT16_IS_SCALAR)
    SIMDE_TEST_FUNC_LIST_ENTRY(mm512_reduce_max_ph)
    SIMDE_TEST_FUNC_LIST_ENTRY(mm512_reduce_min_ph)
  #else
    SIMDE_TEST_FUNC_LIST_ENTRY(dummy)
  #endif
SIMDE_TEST_FUNC_LIST_END

#include <test/x86/avx512/test-avx512-footer.h>
